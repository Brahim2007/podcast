import{_ as p}from"./B9z7xr4s.js";import{b as n,l as b,F as y,u as l,M as i,R as c,P as d,a5 as v,aa as h,Q as w}from"./CLVawphA.js";const I=["src","alt"],_={key:1},j=["src","alt"],k={key:2},O={__name:"DynamicImageLoader",props:{imageObject:{type:Object,required:!0},alt:{type:String,required:!1},fullImage:{type:String,required:!1},withBorderRaduis:{type:Boolean,required:!1,default:!1}},setup(a){const t=a,u=n(!1),r=n(null),m=n(!1),s=b(()=>m.value&&t.imageObject.webp?{small:t.imageObject.webp.small,full:t.imageObject.webp.full}:{small:t.imageObject.jpeg.small,full:t.imageObject.jpeg.full}),f=()=>{u.value=!0,r.value.style.backgroundImage="none"};y(()=>{var o;m.value=g();let e=(o=r.value)==null?void 0:o.querySelector("img");e&&(e.complete?f():e.addEventListener("load",f))});const g=()=>{try{const e=document.createElement("canvas");return e.getContext&&e.getContext("2d")?e.toDataURL("image/webp").indexOf("data:image/webp")===0:!1}catch{return!1}};return(e,o)=>l(s).small&&l(s).full?(i(),c("div",{key:0,class:v(["blur-load",[{loaded:l(u)},{"with-border-radius":a.withBorderRaduis}]]),ref_key:"postMedia",ref:r,style:h({backgroundImage:`url(${l(s).small})`})},[d("img",{src:l(s).full,alt:a.alt,loading:"lazy"},null,8,I)],6)):a.fullImage?(i(),c("div",_,[d("img",{src:a.fullImage,alt:a.alt,loading:"lazy"},null,8,j)])):(i(),c("div",k,[d("span",null,w(a.alt),1)]))}},S=p(O,[["__scopeId","data-v-5a645cd6"]]);export{S as D};
