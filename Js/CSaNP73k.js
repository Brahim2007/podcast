import M from"./DS3KXfO2.js";import{_ as q}from"./B9z7xr4s.js";import{b as l,M as i,R as F,P as n,u as o,N as m,a6 as b,Q as h}from"./CLVawphA.js";const w=""+new URL("forwardBtn.BqMDqgKO.png",import.meta.url).href,N={class:"my-audio-player"},V=["id","src"],D={class:"audio-controls"},$={class:"time-control"},R=["max","value"],z={class:"volume-value"},K={__name:"TanweenAudioPlayer",props:{mp3Link:{type:String,required:!0},id:{type:Number,required:!1}},setup(g){const E=g,y=l("00:00"),c=l(100),f=l(0),d=l("00:00"),v=l(0),u=l(`audio-player-${E.id}`),r=l(!1),_=l(null),k=()=>{r.value=!r.value;let e=document.getElementById(u.value);if(r.value){e.play(),requestAnimationFrame(B);let t=document.getElementsByTagName("audio");for(let a=0;a<t.length;a++){const s=t[a];s!==e&&s.pause()}}else e.pause(),cancelAnimationFrame(_.value)},I=()=>{r.value===!0&&k()},B=()=>{let e=document.getElementById(u.value);v.value=e.currentTime,d.value=p(e.currentTime),_.value=requestAnimationFrame(B)},T=()=>{let e=event.target;e.classList.add("active"),setTimeout(()=>{e.classList.remove("active")},500);let t=document.getElementById(u.value);t.currentTime+=10},x=()=>{let e=event.target;e.classList.add("active"),setTimeout(()=>{e.classList.remove("active")},500);let t=document.getElementById(u.value);t.currentTime-=10},p=e=>{const t=Math.floor(e/60),a=Math.floor(e%60),s=a<10?`0${a}`:`${a}`;return t+":"+s},A=e=>{let t=e.target.duration;y.value=p(t),P(Math.floor(t))},P=e=>{f.value=e},S=e=>{v.value=e.target.value,d.value=p(e.target.value);let t=document.getElementById(u.value);t.currentTime=e.target.value},L=e=>{var t=e.target.min,a=e.target.max,s=e.target.value;e.target.style.backgroundSize=(s-t)*100/(a-t)+"% 100%",c.value=e.target.value;let C=document.getElementById(u.value);C.volume=c.value/100};return(e,t)=>{const a=M;return i(),F("div",N,[n("audio",{onLoadedmetadata:A,onPause:I,id:o(u),src:g.mp3Link,preload:"metadata"},null,40,V),n("div",D,[n("div",{class:"control-sub-btn control-btn backward",onClick:x},t[0]||(t[0]=[n("img",{src:w,alt:"Forward Button"},null,-1),n("p",null,"10",-1)])),n("div",{class:"control-main-btn control-btn",onClick:k},[o(r)?b("",!0):(i(),m(a,{key:0,name:"ph:play-fill"})),o(r)?(i(),m(a,{key:1,name:"ph:pause-fill"})):b("",!0)]),n("div",{class:"control-sub-btn control-btn forward",onClick:T},t[1]||(t[1]=[n("img",{src:w,alt:"Forward Button"},null,-1),n("p",null,"10",-1)]))]),n("div",$,[n("p",null,h(o(d)),1),n("input",{type:"range",min:"0",max:o(f),value:o(v),onInput:S},null,40,R),n("p",null,h(o(y)),1)]),n("div",z,[o(c)>50?(i(),m(a,{key:0,name:"fa-solid:volume-up"})):o(c)<50&&o(c)>0?(i(),m(a,{key:1,name:"fa-solid:volume-down"})):(i(),m(a,{key:2,name:"fa-solid:volume-mute"})),n("input",{type:"range",min:"0",max:"100",value:"100",onInput:L},null,32)])])}}},j=q(K,[["__scopeId","data-v-f1325dba"]]);export{j as T};
