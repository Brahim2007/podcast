import{d as r,b as o,c as n}from"./B9z7xr4s.js";import{u as c}from"./BuFx2LXW.js";const g=r({id:"authStore",state:()=>({user:""}),getters:{getToken(){{let e=JSON.parse(localStorage.getItem("accessToken"));return e?e.expiry<new Date().getTime()?(localStorage.removeItem("accessToken"),!1):e.value:!1}}},actions:{async signIn(e){let t=o().$i18n.locale.value;const s=n(),{data:a}=await c(s.public.apiBase[t]+"login",{method:"POST",body:JSON.stringify(e)},"$wqaVh9369N");this.user=a.value.user,i(a.value.access_token)},async Signup(e){let t=o().$i18n.locale.value;const s=n(),{data:a}=await c(s.public.apiBase[t]+"singup",{method:"POST",body:JSON.stringify(e)},"$QjlIXuLUut");this.user=a.value.user,i(a.value.access_token)},async resetPassword(e){let t=o().$i18n.locale.value;const s=n(),{data:a}=await c(s.public.apiBase[t]+"reset_password",{method:"POST",body:JSON.stringify(e)},"$ljUkOcq9B0");return a}}});function i(e){let t={value:e,expiry:new Date().getTime()+864e5};localStorage.setItem("accessToken",JSON.stringify(t))}export{g as u};
